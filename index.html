<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>SYGN1L</title>

<style>
:root{
  --bg0:#020402;
  --bg1:#010701;
  --text:#CFFFD6;
  --muted:#7EDB92;
  --accent:#39FF6A;
  --danger:#FF3B6B;
  --border:rgba(57,255,106,.25);
  --radius:16px;
}

html,body{
  margin:0;
  background:linear-gradient(180deg,var(--bg1),var(--bg0));
  font-family:ui-monospace,Menlo,Consolas,monospace;
  color:var(--text);
  touch-action:manipulation;
}

body{ padding:14px 12px 40px; }

.wrap{ max-width:880px; margin:auto; display:grid; gap:18px; }

.card{
  border:1px solid var(--border);
  border-radius:var(--radius);
  background:rgba(0,0,0,.45);
  box-shadow:0 12px 28px rgba(0,0,0,.6);
}

.pad{ padding:14px; }

h1{ margin:0; letter-spacing:.28em; font-size:18px; }
.sub{ font-size:12px; color:var(--muted); margin-top:6px; }

.stats{ display:grid; gap:10px; margin-top:12px; }
@media(min-width:420px){ .stats{ grid-template-columns:repeat(4,1fr); } }

.stat{
  border:1px solid rgba(57,255,106,.2);
  border-radius:12px;
  padding:10px;
  background:rgba(0,0,0,.35);
}
.stat.primary{ box-shadow:0 0 20px rgba(57,255,106,.25); }
.k{ font-size:11px; letter-spacing:.12em; color:var(--muted); }
.v{ font-size:18px; margin-top:6px; }

button{
  border-radius:14px;
  border:1px solid rgba(57,255,106,.35);
  background:rgba(57,255,106,.1);
  color:var(--text);
  padding:12px;
  font:inherit;
  cursor:pointer;
}
button:active{ transform:translateY(1px); }
button.on{ background:rgba(57,255,106,.25); }
button:disabled{ opacity:.5; }

.big{ width:100%; font-weight:900; letter-spacing:.14em; }

.popHost{
  position:fixed; top:12px; left:12px; right:12px;
  display:flex; flex-direction:column; gap:10px; z-index:999;
}
.pop{
  pointer-events:auto;
  cursor:pointer;
  border:1px solid rgba(57,255,106,.3);
  background:rgba(0,0,0,.75);
  border-radius:14px;
  padding:10px 12px;
  animation:popin .15s ease-out;
}
@keyframes popin{ from{opacity:0;transform:translateY(-6px);} to{opacity:1;} }
@keyframes popout{ to{opacity:0;transform:translateY(-4px);} }
.pop.fade{ animation:popout .18s forwards; }
.who{ font-size:10px; letter-spacing:.14em; color:var(--muted); }
.msg{ font-size:12px; margin-top:6px; line-height:1.45; }

@keyframes flicker{ 0%{opacity:1;}40%{opacity:.82;}100%{opacity:1;} }
.flicker{ animation:flicker .12s linear; }
</style>
</head>

<body>
<div class="popHost" id="popHost"></div>

<div class="wrap">

<header class="card">
  <div class="pad">
    <h1>SYGN1L</h1>
    <div class="sub">THE ARRAY LISTENS.</div>

    <div class="stats" id="statsRow">
      <div class="stat primary" id="statSignal"><div class="k">SIGNAL</div><div class="v" id="signal">0</div></div>
      <div class="stat" id="statSps"><div class="k">SIGNAL/SEC</div><div class="v" id="sps">0</div></div>
      <div class="stat" id="statBw"><div class="k">BANDWIDTH</div><div class="v" id="bw">1.00×</div></div>
      <div class="stat" id="statStab"><div class="k">STABILITY</div><div class="v" id="stab">100%</div></div>
    </div>
  </div>
</header>

<section class="card"><div class="pad">
  <button class="big" id="ping">PING THE VOID</button>
</div></section>

<section class="card"><div class="pad">
  <div class="k">CONTAINMENT</div>
  <div style="display:grid;gap:10px;margin-top:10px;">
    <button id="filter">FILTER NOISE</button>
    <button id="suppress">SUPPRESS FEEDBACK</button>
    <button id="quarantine">QUARANTINE CHANNEL</button>
  </div>
</div></section>

</div>

<script>
(()=>{

const $=id=>document.getElementById(id);
const state={
  signal:0,total:0,sps:0,bandwidth:1,
  corruption:0,phase:1,
  toggles:{filter:false,suppress:false,quarantine:false}
};

function fmt(n){ return n<1000?Math.floor(n):(n/1000).toFixed(1)+"K"; }

function popup(who,msg){
  const b=document.createElement("div");
  b.className="pop";
  b.innerHTML=`<div class="who">${who}</div><div class="msg">${msg}</div>`;
  $("popHost").prepend(b);
  let done=false;
  const close=()=>{ if(done)return; done=true; b.classList.add("fade"); setTimeout(()=>b.remove(),200); };
  b.onclick=close; setTimeout(close,9000);
}

function stability(){
  let s=state.bandwidth*0.4;
  if(state.toggles.filter) s+=0.25;
  if(state.toggles.suppress) s+=0.25;
  if(state.toggles.quarantine) s+=0.35;
  return Math.min(1,s);
}

function corruptionBoost(){
  return 1+(state.corruption*0.8);
}

function updateUI(){
  $("signal").textContent=fmt(state.signal);
  $("sps").textContent=fmt(state.sps);
  $("bw").textContent=state.bandwidth.toFixed(2)+"×";
  $("stab").textContent=Math.round(stability()*100)+"%";

  $("filter").classList.toggle("on",state.toggles.filter);
  $("suppress").classList.toggle("on",state.toggles.suppress);
  $("quarantine").classList.toggle("on",state.toggles.quarantine);
}

function maybeFlicker(){
  const leak=state.corruption*(1-stability());
  if(Math.random()<leak*0.01){
    document.body.classList.add("flicker");
    setTimeout(()=>document.body.classList.remove("flicker"),140);
  }
}

$("ping").onclick=()=>{
  const gain=1*state.bandwidth*corruptionBoost();
  state.signal+=gain;
  state.total+=gain;
  state.sps=Math.max(state.sps,state.signal/10);
  state.corruption=Math.min(1,state.corruption+0.002);

  if(state.total>50) state.phase=2;
  if(state.total>200) state.phase=3;

  updateUI();
  maybeFlicker();

  if(Math.random()<0.06){
    popup("OPS","Containment holding. For now.");
  }
};

["filter","suppress","quarantine"].forEach(id=>{
  $(id).onclick=()=>{
    if(state.signal<25) return;
    state.signal-=25;
    state.toggles[id]=!state.toggles[id];
    popup("OPS","Containment layer adjusted.");
    updateUI();
  };
});

updateUI();

})();
</script>
</body>
</html>
